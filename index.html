<!doctype html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<title>Everlasting Summer Stories</title>
		<link rel="shortcut icon" href="./resources/textures/icon.png" type="image/png">

		<script src="engine/constants.js"></script>
		<script src="engine/objects.js"></script>
		<script src="engine/gui.js"></script>
		<script src="engine/loaders.js"></script>
		<script src="engine/base_components.js"></script>
		<script src="engine/transform_components.js"></script>
		<script src="engine/drawable_components.js"></script>
		<script src="engine/action_components.js"></script>
		<script src="engine/colider_components.js"></script>
		<script src="engine/mouse_components.js"></script>
		<script src="custom_components.js"></script>
		<script src="engine/engine.js"></script>
	</head>
	<body style="margin: 0; overflow: hidden; background-color: black;">
		<div id="game-block"><div>

		<script type="text/javascript">
		/* --- Init game -------------------------------------------------------  */
		Game.init("game-block");
		Game.settings.style = "margin: auto; display: block;"
		Game.resetSettings()
		Game.setEventHandlers(['keydown', 'keyup'])
		Game.setSize(new Vector2(1280, 720))

		/* --- Init prefabs -------------------------------------------------------  */
		//TiledLoader.resources_url = "https://kolxoz-chan.github.io/EverlastingSummer2D/resources/";
		//Resources.textures_dir = "https://kolxoz-chan.github.io/EverlastingSummer2D/resources/textures/"
		TiledLoader.resources_url = "resources/";
		Resources.textures_dir = "resources/textures/"

		let level = TiledLoader.loadLevel("test", true)
		TiledLoader.onLoaded = function(level)
		{
			let action_butt = new Entity("action_button")
			action_butt.addComponent("TransformComponent", {"position" : new Vector2(5, -30)})
			action_butt.addComponent("TextComponent", {"font" : "16px Arial", "autodraw" : false})
			Game.entities_named["actor"].addChild(action_butt)

			Game.addEntity(level)
		}


		/* --- Start game -------------------------------------------------------- */
		Game.start();
		</script>
	</body>
</html>
